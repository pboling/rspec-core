# This file was generated on 2020-11-22T07:41:13+00:00 from the rspec-dev repo.
# DO NOT modify it by hand as your changes will get lost the next time it is generated.

name: RSpec CI
on:
  push:
    branches:
      - 'main'
      - '*-maintenance'
      - '*-dev'
      - 'experimental-github-actions'
  pull_request:
    branches:
      - '*'
jobs:
  legacy:
    name: Legacy Ruby Builds (${{ matrix.container.version }})
    runs-on: ubuntu-20.04
    container: ${{ matrix.container.tag }}
    strategy:
      fail-fast: false
      matrix:
        container:
          - version: "2.0"
            tag: rspec/ci:2.0.0
          - version: "1.9.3"
            tag: rspec/ci:1.9.3
          - version: "1.8.7"
            tag: rspec/ci:1.8.7
    env:
      REALLY_GEM_UPDATE_SYSTEM: fromorbitjusttobesure
    steps:
      - run: yes | sudo apt-get install git
      - uses: actions/checkout@v2
      - run: script/update_rubygems_and_install_bundler
      - run: script/clone_all_rspec_repos
      - run: bundle install --binstubs --standalone
      - run: bundle binstubs rspec-core
      - run: ls -al
      - run: ls -al bin/
      - run: script/run_build
